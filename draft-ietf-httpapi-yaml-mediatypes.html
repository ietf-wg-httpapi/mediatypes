<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>YAML Media Type</title>
<meta content="Roberto Polli" name="author">
<meta content="Erik Wilde" name="author">
<meta content="Eemeli Aro" name="author">
<meta content="
       This document registers
the application/yaml media type
and the +yaml structured syntax suffix
on the IANA Media Types registry,
intended to be used to identify document components
serialized according to the YAML specification. 
    " name="description">
<meta content="xml2rfc 3.20.0" name="generator">
<meta content="Internet-Draft" name="keyword">
<meta content="draft-ietf-httpapi-yaml-mediatypes-latest" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.20.0
    Python 3.11.8
    ConfigArgParse 1.7
    google-i18n-address 3.1.0
    intervaltree 3.1.0
    Jinja2 3.1.2
    lxml 4.9.3
    platformdirs 4.2.0
    pycountry 22.3.5
    PyYAML 6.0.1
    requests 2.31.0
    setuptools 68.2.2
    six 1.16.0
    wcwidth 0.2.13
-->
<link href="draft-ietf-httpapi-yaml-mediatypes.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}

@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Lora SemiBold'), local('Lora-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-semibold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

:root {
  color-scheme: light dark;
  --background-color: #fff;
  --text-color: #222;
  --title-color: #191919;
  --link-color: #2a6496;
  --highlight-color: #f9f9f9;
  --line-color: #eee;
  --pilcrow-weak: #ddd;
  --pilcrow-strong: #bbb;
  --small-font-size: 14.5px;
  --font-mono: 'Oxygen Mono', monospace;
  scrollbar-color: #bbb #eee;
}
body {
  max-width: 600px;
  margin: 75px auto;
  padding: 0 5px;
  color: var(--text-color);
  background-color: var(--background-color);
  font: 16px/22px "Lora", serif;
  scroll-behavior: smooth;
}

.ears {
  display: none;
}

/* headings */
h1, h2, h3, h4, h5, h6 {
  font-family: "Cabin Condensed", sans-serif;
  font-weight: 600;
  margin: 0.8em 0 0.3em;
  font-size-adjust: 0.5;
  color: var(--title-color);
}
h1#title {
  font-size: 32px;
  line-height: 40px;
  clear: both;
}
h1#title, h1#rfcnum {
  margin: 1.5em 0 0.2em;
}
h1#rfcnum + h1#title {
  margin: 0.2em 0;
}

h1, h2, h3 {
  font-size: 22px;
  line-height: 27px;
}
h4, h5, h6 {
  font-size: 20px;
  line-height: 24px;
}

/* general structure */
.author {
  padding-bottom: 0.3em;
}
#abstract+p {
  font-size: 18px;
  line-height: 24px;
}
#abstract+p code, #abstract+p samp, #abstract+p tt {
  font-size: 16px;
  line-height: 0;
}

p {
  padding: 0;
  margin: 0.5em 0;
  text-align: left;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignRight.art-text pre {
  padding: 0;
  width: auto;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
/* font-family isn't space-separated, but =~ will have to do */
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignCenter.art-text pre {
  padding: 0;
  width: auto;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 0.5em 2em;
}
:is(ol, ul) :is(ol, ul) {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
:is(ul, ol).compact, .ulCompact, .olCompact {
  line-height: 1;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
  clear: left;
  --indent: 3ch;
  /* --indent: attr(indent ch); not supported in any browser, but we can dream */
}
dl.olPercent {
  --indent: 5ch;
}
dl > dt {
  float: left;
  margin-right: 2ch;
  min-width: 8ch;
}
dl.dlNewline > dt {
  float: none;
}
dl > dd {
  margin-bottom: .8em;
  margin-left: var(--indent) !important; /* stupid element overrides */
  min-height: 2ex;
}
dl.olPercent > dt {
  min-width: calc(var(--indent) - 2ch);
}
:is(dl.compact, .dlCompact) > dd {
  margin-bottom: 0;
}
:is(dl.compact, .dlCompact) > dd > :is(:first-child, .break:first-child + *) {
  margin-top: 0;
}
:is(dl.compact, .dlCompact) > dd > :is(:last-child) {
  margin-bottom: 0;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0;
}
:is(dd, span).break {
  display: none;
}

/* links */
a, a[href].selfRef:hover {
  text-decoration: none;
}
a[href] {
  color: var(--link-color);
}
a[href].selfRef, .iref + a[href].internal {
  color: var(--text-color);
}
a[href]:hover {
  text-decoration: underline;
}
a[href].selfRef:hover {
  background-color: var(--highlight-color);
}
a.xref:is(.cite, .auto), :is(#status-of-memo, #copyright) a {
  white-space: nowrap;
}

/* Figures */
tt, code, pre {
  background-color: var(--highlight-color);
  font: 14px/22px var(--font-mono);
}
tt, code {
  /* changing the font for inline elements leads to different ascender
     and descender heights; as we want to retain baseline alignment,
     remove leading to avoid altering the final height of lines
     note: this fails if these blocks take an entire line,
     a different solution would be great */
  line-height: 0;
}
:is(h1, h2, h3, h4, h5, h6) :is(tt, code) {
  font-size: 84%;
}
pre {
  border: 1px solid var(--line-color);
  font-size: 13.5px;
  line-height: 16px;
  letter-spacing: -0.2px;
  margin: 5px;
  padding: 5px;
}
img {
  max-width: 100%;
}
figure {
  margin: 0.5em 0;
  padding: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption, caption {
  font-style: italic;
  margin: 0.5em 1.5em;
  text-align: left;
}
@media screen {
  /* Auto-collapse boilerplate. */
  :is(#status-of-memo, #copyright) p {
    margin: -2px 0;
    max-height: 0;
    transition: max-height 2s ease, margin 0.5s ease 0.5s;
    overflow: hidden;
  }
  :is(#status-of-memo, #copyright):hover p,
  :is(#status-of-memo, #copyright) h2:target ~ p {
    margin: 0.5em 0;
    max-height: 500px;
    overflow: auto;
  }
  pre, svg {
    display: inline-block;
    overflow-x: auto;
  }
  pre {
    max-width: 100%;
    width: calc(100% - 22px - 1em);
  }
  svg {
    max-width: calc(100% - 22px - 1em);
  }
  figure pre {
    display: block;
    width: calc(100% - 25px);
  }
  :is(pre, svg) + .pilcrow {
    display: inline-block;
    vertical-align: text-bottom;
    padding-bottom: 8px;
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 0 2em;
  font-style: italic;
}
blockquote {
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  max-width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
}
table.right {
  margin-left: auto;
}
table.center {
  margin-left: auto;
  margin-right: auto;
}
table.left {
  margin-right: auto;
}
thead, tbody {
  border: 1px solid var(--line-color);
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 5px 10px;
}
th {
  background-color: var(--line-color);
}
:is(tr:nth-child(2n), thead+tbody > tr:nth-child(2n+1)) > td {
  background-color: var(--background-color);
}
:is(tr:nth-child(2n+1), thead+tbody > tr:nth-child(2n)) > td {
  background-color: var(--highlight-color);
}
table caption {
  margin: 0;
  padding: 3px 0 3px 1em;
}
table p {
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  margin-left: 3px;
  opacity: 0.2;
  user-select: none;
}
a.pilcrow[href] { color: var(--pilcrow-weak); }
a.pilcrow[href]:hover { text-decoration: none; }
@media not print {
  :hover > a.pilcrow {
    opacity: 1;
  }
  a.pilcrow[href]:hover {
    color: var(--pilcrow-strong);
    background-color: transparent;
  }
}
@media print {
  a.pilcrow {
    display: none;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid var(--line-color);
}
.bcp14 {
  font-variant: small-caps;
  font-weight: 600;
  font-size: var(--small-font-size);
}
.role {
  font-variant: all-small-caps;
}
sub, sup {
  line-height: 1;
  font-size: 80%;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: var(--small-font-size);
  line-height: 18px;
  --identifier-width: 15ch;
}
#identifiers dt {
  width: var(--identifier-width);
  min-width: var(--identifier-width);
  clear: left;
  float: left;
  text-align: right;
  margin-right: 1ch;
}
#identifiers dd {
  margin: 0;
  margin-left: calc(1em + var(--identifier-width)) !important;
  min-width: 5em;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #999;
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
#toc nav ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
#toc nav li {
  line-height: 1.3em;
  margin: 2px 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
#toc a.xref {
  white-space: normal;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 10ch;
  margin-right: 1.5ch;
}
.references dt:target::before {
  content: "⇒";
  width: 15px;
  margin: 0 10px 0 -25px;
}
.references dd {
  margin-left: 12ch !important;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
#rfc\.index\.index + ul {
  margin-left: 0;
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}
address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}
@media (min-width: 500px) {
  #authors-addresses > section {
    column-count: 2;
    column-gap: 20px;
  }
  #authors-addresses > section > h2 {
    column-span: all;
  }
  /* hack for break-inside: avoid-column */
  #authors-addresses address {
    display: inline-block;
    break-inside: avoid-column;
  }
}

.rfcEditorRemove p:first-of-type {
  font-style: italic;
}
.cref {
  background-color: rgba(249, 232, 105, 0.3);
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 929px) {
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 1px 0 0 0;
    margin: 0;
    border-bottom: 1px solid #ccc;
    opacity: 0.6;
  }
  #toc.active {
      opacity: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 2px 0 2px 6px;
    padding-right: 1em;
    font-size: 18px;
    line-height: 24px;
    min-width: 190px;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 8px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    background-color: var(--background-color);
    padding: 0.5em 1em 1em;
    overflow: auto;
    overscroll-behavior: contain;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
  #toc.active nav {
    display: block;
  }
  /* Make the collapsed ToC header render white on gray also when it's a link */
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
  #toc a.toplink {
    margin-top: 2px;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 930px) {
  body {
    padding-right: 360px;
    padding-right: calc(min(180px + 20%, 500px));
  }
  #toc {
    position: fixed;
    bottom: 0;
    right: 0;
    right: calc(50vw - 480px);
    width: 312px;
    margin: 0;
    padding: 0;
    z-index: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 2em;
    overflow: auto;
    overscroll-behavior: contain;
    scrollbar-width: thin;
  }
  #toc nav > ul  {
    margin-bottom: 2em;
  }
  #toc ul {
    margin: 0 0 0 4px;
    font-size: var(--small-font-size);
  }
  #toc ul :is(p, li) {
    margin: 2px 0;
    line-height: 22px;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre, .vcard {
    page-break-inside: avoid;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  :is(h2, h3, h4, h5, h6)+*, dd {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
  .toplink {
    display: none;
  }
}

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
}

/* Changes introduced to fix issues found during implementation */

/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}

/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin: 8px 0.5em 0;
}

/* Provide styling for table cell text alignment */
table .text-left {
  text-align: left;
}
table .text-center {
  text-align: center;
}
table .text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 20em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Dark mode. */
@media (prefers-color-scheme: dark) {
:root {
  --background-color: #121212;
  --text-color: #f0f0f0;
  --title-color: #fff;
  --link-color: #4da4f0;
  --highlight-color: #282828;
  --line-color: #444;
  --pilcrow-weak: #444;
  --pilcrow-strong: #666;
  scrollbar-color: #777 #333;
}
}

/* SVG Trick: a prefix match works because only black and white are allowed */
svg :is([stroke="black"], [stroke^="#000"]) {
  stroke: var(--text-color);
}
svg :is([stroke="white"], [stroke^="#fff"]) {
  stroke: var(--background-color);
}
svg :is([fill="black"], [fill^="#000"], :not([fill])) {
  fill: var(--text-color);
}
svg :is([fill="white"], [fill^="#fff"]) {
  fill: var(--background-color);
}
</style>

</head>
<body class="xml2rfc">
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">YAML Media Type</td>
<td class="right">March 2024</td>
</tr></thead>
<tfoot><tr>
<td class="left">Polli, et al.</td>
<td class="center">Expires 5 September 2024</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">HTTPAPI</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-ietf-httpapi-yaml-mediatypes-latest</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2024-03-04" class="published">4 March 2024</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Informational</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2024-09-05">5 September 2024</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">R. Polli</div>
<div class="org">Digital Transformation Department, Italian Government</div>
</div>
<div class="author">
      <div class="author-name">E. Wilde</div>
<div class="org">Axway</div>
</div>
<div class="author">
      <div class="author-name">E. Aro</div>
<div class="org">Mozilla</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">YAML Media Type</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document registers
the application/yaml media type
and the +yaml structured syntax suffix
on the IANA Media Types registry,
intended to be used to identify document components
serialized according to the YAML specification.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<section class="note rfcEditorRemove" id="section-note.1">
      <h2 id="name-about-this-document">
<a href="#name-about-this-document" class="section-name selfRef">About This Document</a>
      </h2>
<p id="section-note.1-1">This note is to be removed before publishing as an RFC.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
<p id="section-note.1-2">
        Status information for this document may be found at <span><a href="https://datatracker.ietf.org/doc/draft-ietf-httpapi-yaml-mediatypes/">https://datatracker.ietf.org/doc/draft-ietf-httpapi-yaml-mediatypes/</a></span>.<a href="#section-note.1-2" class="pilcrow">¶</a></p>
<p id="section-note.1-3">
        Discussion of this document takes place on the
        HTTPAPI Working Group mailing list (<span><a href="mailto:httpapi@ietf.org">mailto:httpapi@ietf.org</a></span>),
        which is archived at <span><a href="https://mailarchive.ietf.org/arch/browse/httpapi/">https://mailarchive.ietf.org/arch/browse/httpapi/</a></span>.
        Subscribe at <span><a href="https://www.ietf.org/mailman/listinfo/httpapi/">https://www.ietf.org/mailman/listinfo/httpapi/</a></span>.
        Working Group information can be found at <span><a href="https://datatracker.ietf.org/wg/httpapi/about/">https://datatracker.ietf.org/wg/httpapi/about/</a></span>.<a href="#section-note.1-3" class="pilcrow">¶</a></p>
<p id="section-note.1-4">Source for this draft and an issue tracker can be found at
        <span><a href="https://github.com/ietf-wg-httpapi/mediatypes/labels/yaml">https://github.com/ietf-wg-httpapi/mediatypes/labels/yaml</a></span>.<a href="#section-note.1-4" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 5 September 2024.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2024 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1"><a href="#section-1" class="auto internal xref">1</a>.  <a href="#name-introduction" class="internal xref">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="auto internal xref">1.1</a>.  <a href="#name-notational-conventions" class="internal xref">Notational Conventions</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.2">
                <p id="section-toc.1-1.1.2.2.1" class="keepWithNext"><a href="#section-1.2" class="auto internal xref">1.2</a>.  <a href="#name-fragment-identification" class="internal xref">Fragment identification</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.2.2.1">
                    <p id="section-toc.1-1.1.2.2.2.1.1" class="keepWithNext"><a href="#section-1.2.1" class="auto internal xref">1.2.1</a>.  <a href="#name-fragment-identification-via" class="internal xref">Fragment identification via alias nodes</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="auto internal xref">2</a>.  <a href="#name-media-type-and-structured-s" class="internal xref">Media Type and Structured Syntax Suffix registrations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1"><a href="#section-2.1" class="auto internal xref">2.1</a>.  <a href="#name-media-type-application-yaml" class="internal xref">Media Type application/yaml</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1"><a href="#section-2.2" class="auto internal xref">2.2</a>.  <a href="#name-the-yaml-structured-syntax-" class="internal xref">The +yaml Structured Syntax Suffix</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="auto internal xref">3</a>.  <a href="#name-interoperability-considerat" class="internal xref">Interoperability Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="auto internal xref">3.1</a>.  <a href="#name-yaml-is-an-evolving-languag" class="internal xref">YAML is an Evolving Language</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="auto internal xref">3.2</a>.  <a href="#name-yaml-streams" class="internal xref">YAML streams</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="auto internal xref">3.3</a>.  <a href="#name-filename-extension" class="internal xref">Filename extension</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.4">
                <p id="section-toc.1-1.3.2.4.1"><a href="#section-3.4" class="auto internal xref">3.4</a>.  <a href="#name-yaml-and-json" class="internal xref">YAML and JSON</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.5">
                <p id="section-toc.1-1.3.2.5.1"><a href="#section-3.5" class="auto internal xref">3.5</a>.  <a href="#name-fragment-identifiers" class="internal xref">Fragment identifiers</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="auto internal xref">4</a>.  <a href="#name-security-considerations" class="internal xref">Security Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="auto internal xref">4.1</a>.  <a href="#name-arbitrary-code-execution" class="internal xref">Arbitrary Code Execution</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="auto internal xref">4.2</a>.  <a href="#name-resource-exhaustion" class="internal xref">Resource Exhaustion</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="auto internal xref">4.3</a>.  <a href="#name-yaml-streams-2" class="internal xref">YAML streams</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a href="#section-4.4" class="auto internal xref">4.4</a>.  <a href="#name-expressing-booleans" class="internal xref">Expressing booleans</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="auto internal xref">5</a>.  <a href="#name-iana-considerations" class="internal xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="auto internal xref">6</a>.  <a href="#name-references" class="internal xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="auto internal xref">6.1</a>.  <a href="#name-normative-references" class="internal xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="auto internal xref">6.2</a>.  <a href="#name-informative-references" class="internal xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#appendix-A" class="auto internal xref">Appendix A</a>.  <a href="#name-examples-related-to-fragmen" class="internal xref">Examples related to fragment identifier interoperability</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#appendix-A.1" class="auto internal xref">A.1</a>.  <a href="#name-unreferenceable-nodes" class="internal xref">Unreferenceable nodes</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a href="#appendix-A.2" class="auto internal xref">A.2</a>.  <a href="#name-referencing-a-missing-node" class="internal xref">Referencing a missing node</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3">
                <p id="section-toc.1-1.7.2.3.1"><a href="#appendix-A.3" class="auto internal xref">A.3</a>.  <a href="#name-representation-graph-with-a" class="internal xref">Representation graph with anchors and cyclic references</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#appendix-B" class="auto internal xref"></a><a href="#name-acknowledgements" class="internal xref">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#appendix-C" class="auto internal xref"></a><a href="#name-faq" class="internal xref">FAQ</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#appendix-D" class="auto internal xref"></a><a href="#name-change-log" class="internal xref">Change Log</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a href="#appendix-D.1" class="auto internal xref"></a><a href="#name-since-draft-ietf-httpapi-ya" class="internal xref">Since draft-ietf-httpapi-yaml-mediatypes-02</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a href="#appendix-D.2" class="auto internal xref"></a><a href="#name-since-draft-ietf-httpapi-yam" class="internal xref">Since draft-ietf-httpapi-yaml-mediatypes-01</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#appendix-E" class="auto internal xref"></a><a href="#name-authors-addresses" class="internal xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">YAML <span>[<a href="#YAML" class="cite xref">YAML</a>]</span> is a data serialization format
that is capable of conveying one or multiple
documents in a single presentation stream
(e.g., a file or a network resource).
It is widely used on the Internet,
including in the API sector (e.g., see <span>[<a href="#OAS" class="cite xref">OAS</a>]</span>),
but a corresponding media type and structured syntax suffix had not previously been registered by IANA.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">To increase interoperability when exchanging YAML streams,
and leverage content negotiation mechanisms when exchanging
YAML resources,
this specification
registers the <code>application/yaml</code> media type
and the <code>+yaml</code> structured syntax suffix <span>[<a href="#MEDIATYPE" class="cite xref">MEDIATYPE</a>]</span>.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">Moreover, it provides security considerations
and interoperability considerations related to <span>[<a href="#YAML" class="cite xref">YAML</a>]</span>,
including its relation with <span>[<a href="#JSON" class="cite xref">JSON</a>]</span>.<a href="#section-1-3" class="pilcrow">¶</a></p>
<div id="notational-conventions">
<section id="section-1.1">
        <h3 id="name-notational-conventions">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-notational-conventions" class="section-name selfRef">Notational Conventions</a>
        </h3>
<p id="section-1.1-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL
NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED",
"MAY", and "OPTIONAL" in this document are to be interpreted as
described in BCP 14 <span>[<a href="#RFC2119" class="cite xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="cite xref">RFC8174</a>]</span> when, and only when, they
appear in all capitals, as shown here.
These words may also appear in this document in
lower case as plain English words, absent their normative meanings.<a href="#section-1.1-1" class="pilcrow">¶</a></p>
<p id="section-1.1-2">The terms  "content", "content negotiation", "resource",
and "user agent"
in this document are to be interpreted as in <span>[<a href="#HTTP" class="cite xref">HTTP</a>]</span>.<a href="#section-1.1-2" class="pilcrow">¶</a></p>
<p id="section-1.1-3">The terms "fragment" and "fragment identifier"
in this document are to be interpreted as in <span>[<a href="#URI" class="cite xref">URI</a>]</span>.<a href="#section-1.1-3" class="pilcrow">¶</a></p>
<p id="section-1.1-4">The terms "presentation", "stream", "YAML document", "representation graph", "tag",
"serialization detail",
"node", "alias node", "anchor" and "anchor name"
in this document are to be interpreted as in <span>[<a href="#YAML" class="cite xref">YAML</a>]</span>.<a href="#section-1.1-4" class="pilcrow">¶</a></p>
<p id="section-1.1-5">Figures containing YAML code always start with
the "%YAML 1.2" directive to improve readability.<a href="#section-1.1-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="application-yaml-fragment">
<section id="section-1.2">
        <h3 id="name-fragment-identification">
<a href="#section-1.2" class="section-number selfRef">1.2. </a><a href="#name-fragment-identification" class="section-name selfRef">Fragment identification</a>
        </h3>
<p id="section-1.2-1">A fragment identifies a node in a stream.<a href="#section-1.2-1" class="pilcrow">¶</a></p>
<p id="section-1.2-2">A fragment identifier starting with "*"
is to be interpreted as a YAML alias node (see <a href="#fragment-alias-node" class="auto internal xref">Section 1.2.1</a>).<a href="#section-1.2-2" class="pilcrow">¶</a></p>
<p id="section-1.2-3">For single-document YAML streams,
a fragment identifier that is empty
or that starts with "/"
is to be interpreted as a JSON Pointer <span>[<a href="#JSON-POINTER" class="cite xref">JSON-POINTER</a>]</span>
and is evaluated on the YAML representation graph,
walking through alias nodes;
in particular, the empty fragment identifier
references the root node.
This syntax can only reference the YAML nodes that are
on a path that is made up of nodes interoperable with
the JSON data model (see <a href="#int-yaml-and-json" class="auto internal xref">Section 3.4</a>).<a href="#section-1.2-3" class="pilcrow">¶</a></p>
<p id="section-1.2-4">A fragment identifier is not guaranteed to reference an existing node.
Therefore, applications SHOULD define how an unresolved alias node
ought to be handled.<a href="#section-1.2-4" class="pilcrow">¶</a></p>
<div id="fragment-alias-node">
<section id="section-1.2.1">
          <h4 id="name-fragment-identification-via">
<a href="#section-1.2.1" class="section-number selfRef">1.2.1. </a><a href="#name-fragment-identification-via" class="section-name selfRef">Fragment identification via alias nodes</a>
          </h4>
<p id="section-1.2.1-1">This section describes how to use
alias nodes (see Section 3.2.2.2 and 7.1 of <span>[<a href="#YAML" class="cite xref">YAML</a>]</span>)
as fragment identifiers to designate nodes.<a href="#section-1.2.1-1" class="pilcrow">¶</a></p>
<p id="section-1.2.1-2">A YAML alias node can be represented in a URI fragment identifier
by encoding it into bytes using UTF-8 <span>[<a href="#UTF-8" class="cite xref">UTF-8</a>]</span>,
but percent-encoding of those characters is not allowed by the fragment rule
in <span><a href="https://rfc-editor.org/rfc/rfc3986#section-3.5" class="relref">Section 3.5</a> of [<a href="#URI" class="cite xref">URI</a>]</span>.<a href="#section-1.2.1-2" class="pilcrow">¶</a></p>
<p id="section-1.2.1-3">If multiple nodes would match a fragment identifier,
the first occurrence of such match is selected.<a href="#section-1.2.1-3" class="pilcrow">¶</a></p>
<p id="section-1.2.1-4">Users concerned with interoperability of fragment identifiers:<a href="#section-1.2.1-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1.2.1-5.1">
              <p id="section-1.2.1-5.1.1">SHOULD limit alias nodes to a set of characters
that do not require encoding
to be expressed as URI fragment identifiers:
this is generally possible since
anchor names are a serialization detail;<a href="#section-1.2.1-5.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-1.2.1-5.2">
              <p id="section-1.2.1-5.2.1">SHOULD NOT use alias nodes that match multiple nodes.<a href="#section-1.2.1-5.2.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-1.2.1-6">In the example resource below, the relative reference (see <span><a href="https://rfc-editor.org/rfc/rfc3986#section-4.2" class="relref">Section 4.2</a> of [<a href="#URI" class="cite xref">URI</a>]</span>) <code>file.yaml#*foo</code>
identifies the first alias node <code>*foo</code> pointing to the node with value <code>scalar</code>
and not the one in the second document;
whereas
the relative reference <code>file.yaml#*document_2</code> identifies the root node
of the second document <code>{one: [a, sequence]}</code>.<a href="#section-1.2.1-6" class="pilcrow">¶</a></p>
<span id="name-a-yaml-stream-containing-tw"></span><figure id="figure-1">
            <div class="lang-example sourcecode" id="section-1.2.1-7.1">
<pre>
 %YAML 1.2
 ---
 one: &amp;foo scalar
 two: &amp;bar
   - some
   - sequence
   - items
 ...
 %YAML 1.2
 ---
 &amp;document_2
 one: &amp;foo [a, sequence]
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-a-yaml-stream-containing-tw" class="selfRef">A YAML stream containing two YAML documents.</a>
            </figcaption></figure>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="media-type-and-structured-syntax-suffix-registrations">
<section id="section-2">
      <h2 id="name-media-type-and-structured-s">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-media-type-and-structured-s" class="section-name selfRef">Media Type and Structured Syntax Suffix registrations</a>
      </h2>
<p id="section-2-1">This section describes the information required to register
the above media type according to <span>[<a href="#MEDIATYPE" class="cite xref">MEDIATYPE</a>]</span><a href="#section-2-1" class="pilcrow">¶</a></p>
<div id="application-yaml">
<section id="section-2.1">
        <h3 id="name-media-type-application-yaml">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-media-type-application-yaml" class="section-name selfRef">Media Type application/yaml</a>
        </h3>
<p id="section-2.1-1">The media type for YAML text is <code>application/yaml</code>;
the following information serves as the registration form for this media type.<a href="#section-2.1-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-2.1-2">
          <dt id="section-2.1-2.1">Type name:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-2.2">
            <p id="section-2.1-2.2.1">application<a href="#section-2.1-2.2.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.3">Subtype name:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-2.4">
            <p id="section-2.1-2.4.1">yaml<a href="#section-2.1-2.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.5">Required parameters:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-2.6">
            <p id="section-2.1-2.6.1">N/A<a href="#section-2.1-2.6.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
<span class="break"></span><dl class="dlParallel" id="section-2.1-3">
          <dt id="section-2.1-3.1">Optional parameters:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-3.2">
            <p id="section-2.1-3.2.1">N/A; unrecognized parameters should be ignored<a href="#section-2.1-3.2.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-3.3">Encoding considerations:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-3.4">
            <p id="section-2.1-3.4.1">binary<a href="#section-2.1-3.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-3.5">Security considerations:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-3.6">
            <p id="section-2.1-3.6.1">see <a href="#security-considerations" class="auto internal xref">Section 4</a> of this document<a href="#section-2.1-3.6.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-3.7">Interoperability considerations:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-3.8">
            <p id="section-2.1-3.8.1">see <a href="#interoperability-considerations" class="auto internal xref">Section 3</a> of this document<a href="#section-2.1-3.8.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-3.9">Published specification:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-3.10">
            <p id="section-2.1-3.10.1"><span>[<a href="#YAML" class="cite xref">YAML</a>]</span>, this document<a href="#section-2.1-3.10.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-3.11">Applications that use this media type:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-3.12">
            <p id="section-2.1-3.12.1">Applications that need a human-friendly, cross language, Unicode
based data serialization language designed around the common native
data types of dynamic programming languages.<a href="#section-2.1-3.12.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-3.13">Fragment identifier considerations:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-3.14">
            <p id="section-2.1-3.14.1">See <a href="#application-yaml-fragment" class="auto internal xref">Section 1.2</a> of this document<a href="#section-2.1-3.14.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-2.1-4">Additional information:<a href="#section-2.1-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.1-5.1">
            <p id="section-2.1-5.1.1">Deprecated alias names for this type:  application/x-yaml, text/yaml, text/x-yaml.
These names are used, but not registered.<a href="#section-2.1-5.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-2.1-5.2">
            <p id="section-2.1-5.2.1">Magic number(s)  N/A<a href="#section-2.1-5.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-2.1-5.3">
            <p id="section-2.1-5.3.1">File extension(s): "yaml" (preferred), "yml". See <a href="#int-yaml-filename-extension" class="auto internal xref">Section 3.3</a> of this document.<a href="#section-2.1-5.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-2.1-5.4">
            <p id="section-2.1-5.4.1">Macintosh file type code(s):  N/A<a href="#section-2.1-5.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-2.1-5.5">
            <p id="section-2.1-5.5.1">Windows Clipboard Name: YAML<a href="#section-2.1-5.5.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<span class="break"></span><dl class="dlParallel" id="section-2.1-6">
          <dt id="section-2.1-6.1">Person and email address to contact for further information:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-6.2">
            <p id="section-2.1-6.2.1">See the Authors' Addresses section of this document.<a href="#section-2.1-6.2.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-6.3">Intended usage:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-6.4">
            <p id="section-2.1-6.4.1">COMMON<a href="#section-2.1-6.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-6.5">Restrictions on usage:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-6.6">
            <p id="section-2.1-6.6.1">None.<a href="#section-2.1-6.6.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-6.7">Author:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-6.8">
            <p id="section-2.1-6.8.1">See the Authors' Addresses section of this document.<a href="#section-2.1-6.8.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-6.9">Change controller:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-6.10">
            <p id="section-2.1-6.10.1">IETF<a href="#section-2.1-6.10.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="suffix-yaml">
<section id="section-2.2">
        <h3 id="name-the-yaml-structured-syntax-">
<a href="#section-2.2" class="section-number selfRef">2.2. </a><a href="#name-the-yaml-structured-syntax-" class="section-name selfRef">The +yaml Structured Syntax Suffix</a>
        </h3>
<p id="section-2.2-1">The suffix
<code>+yaml</code> MAY be used with any media type whose representation follows
that established for <code>application/yaml</code>.
The media type structured syntax suffix registration form follows.
See <span>[<a href="#MEDIATYPE" class="cite xref">MEDIATYPE</a>]</span> for definitions of each of the registration form headings.<a href="#section-2.2-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-2.2-2">
          <dt id="section-2.2-2.1">Name:</dt>
          <dd style="margin-left: 1.5em" id="section-2.2-2.2">
            <p id="section-2.2-2.2.1">YAML Ain't Markup Language (YAML)<a href="#section-2.2-2.2.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.3">+suffix:</dt>
          <dd style="margin-left: 1.5em" id="section-2.2-2.4">
            <p id="section-2.2-2.4.1">+yaml<a href="#section-2.2-2.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.5">References:</dt>
          <dd style="margin-left: 1.5em" id="section-2.2-2.6">
            <p id="section-2.2-2.6.1"><span>[<a href="#YAML" class="cite xref">YAML</a>]</span>, this document<a href="#section-2.2-2.6.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.7">Encoding considerations:</dt>
          <dd style="margin-left: 1.5em" id="section-2.2-2.8">
            <p id="section-2.2-2.8.1">Same as "application/yaml"<a href="#section-2.2-2.8.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.9">Fragment identifier considerations:</dt>
          <dd style="margin-left: 1.5em" id="section-2.2-2.10">
            <p id="section-2.2-2.10.1">Differently from <code>application/yaml</code>,
there is no fragment identification syntax defined
for +yaml.<a href="#section-2.2-2.10.1" class="pilcrow">¶</a></p>
<p id="section-2.2-2.10.2">A specific <code>xxx/yyy+yaml</code> media type
needs to define the syntax and semantics for fragment identifiers
because the ones defined for "application/yaml"
do not apply unless explicitly expressed.<a href="#section-2.2-2.10.2" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.11">Interoperability considerations:</dt>
          <dd style="margin-left: 1.5em" id="section-2.2-2.12">
            <p id="section-2.2-2.12.1">Same as "application/yaml"<a href="#section-2.2-2.12.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.13">Security considerations:</dt>
          <dd style="margin-left: 1.5em" id="section-2.2-2.14">
            <p id="section-2.2-2.14.1">Same as "application/yaml"<a href="#section-2.2-2.14.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.15">Contact:</dt>
          <dd style="margin-left: 1.5em" id="section-2.2-2.16">
            <p id="section-2.2-2.16.1">httpapi@ietf.org or art@ietf.org<a href="#section-2.2-2.16.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.17">Author:</dt>
          <dd style="margin-left: 1.5em" id="section-2.2-2.18">
            <p id="section-2.2-2.18.1">See the Authors' Addresses section of this document<a href="#section-2.2-2.18.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.19">Change controller:</dt>
          <dd style="margin-left: 1.5em" id="section-2.2-2.20">
            <p id="section-2.2-2.20.1">IETF<a href="#section-2.2-2.20.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
<div id="interoperability-considerations">
<section id="section-3">
      <h2 id="name-interoperability-considerat">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-interoperability-considerat" class="section-name selfRef">Interoperability Considerations</a>
      </h2>
<div id="int-yaml-evolving">
<section id="section-3.1">
        <h3 id="name-yaml-is-an-evolving-languag">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-yaml-is-an-evolving-languag" class="section-name selfRef">YAML is an Evolving Language</a>
        </h3>
<p id="section-3.1-1">YAML is an evolving language and, over time,
some features have been added and others removed.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<p id="section-3.1-2">This <span>[<a href="#YAML" class="cite xref">YAML</a>]</span> media type registration is independent of YAML version.
This allows content negotiation of version-independent YAML resources.<a href="#section-3.1-2" class="pilcrow">¶</a></p>
<p id="section-3.1-3">Implementers concerned about features related to a specific YAML version
can specify it in YAML documents using the <code>%YAML</code> directive
(see Section 6.8.1 of <span>[<a href="#YAML" class="cite xref">YAML</a>]</span>).<a href="#section-3.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="int-yaml-streams">
<section id="section-3.2">
        <h3 id="name-yaml-streams">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-yaml-streams" class="section-name selfRef">YAML streams</a>
        </h3>
<p id="section-3.2-1">A YAML stream can contain zero or more YAML documents.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
<p id="section-3.2-2">When receiving a multi-document stream,
an application that only expects one-document streams,
ought to signal an error instead of ignoring the extra documents.<a href="#section-3.2-2" class="pilcrow">¶</a></p>
<p id="section-3.2-3">Current implementations consider different documents in a stream independent,
similarly to JSON Text Sequences (see <span>[<a href="#RFC7464" class="cite xref">RFC7464</a>]</span>);
elements such as anchors are not guaranteed to be referenceable
across different documents.<a href="#section-3.2-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="int-yaml-filename-extension">
<section id="section-3.3">
        <h3 id="name-filename-extension">
<a href="#section-3.3" class="section-number selfRef">3.3. </a><a href="#name-filename-extension" class="section-name selfRef">Filename extension</a>
        </h3>
<p id="section-3.3-1">The "yaml" filename extension is the preferred one;
it is the most popular and widely used on the web.
The "yml" filename extension is still used.
The simultaneous usage of two filename extensions in the same context
might cause interoperability issues
(e.g., when both a "config.yaml" and a "config.yml" are present).<a href="#section-3.3-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="int-yaml-and-json">
<section id="section-3.4">
        <h3 id="name-yaml-and-json">
<a href="#section-3.4" class="section-number selfRef">3.4. </a><a href="#name-yaml-and-json" class="section-name selfRef">YAML and JSON</a>
        </h3>
<p id="section-3.4-1">When using flow collection styles (see Section 7.4 of <span>[<a href="#YAML" class="cite xref">YAML</a>]</span>)
a YAML document could look like JSON <span>[<a href="#JSON" class="cite xref">JSON</a>]</span>,
thus similar interoperability considerations apply.<a href="#section-3.4-1" class="pilcrow">¶</a></p>
<p id="section-3.4-2">When using YAML as a more efficient format
to serialize information intended to be consumed as JSON,
information not reflected in the representation graph
and classified as presentation or serialization detail
(see Section 3.2 of <span>[<a href="#YAML" class="cite xref">YAML</a>]</span>) can be discarded.
This includes comments (see Section 3.2.3.3 of <span>[<a href="#YAML" class="cite xref">YAML</a>]</span>),
directives, and alias nodes (see Section 7.1 of <span>[<a href="#YAML" class="cite xref">YAML</a>]</span>)
that do not have a JSON counterpart.<a href="#section-3.4-2" class="pilcrow">¶</a></p>
<span id="name-json-replaces-alias-nodes-w"></span><div id="example-json-discards-information">
<figure id="figure-2">
          <div class="lang-example sourcecode" id="section-3.4-3.1">
<pre>
 %YAML 1.2
 ---
 # This comment will be lost
 # when serializing in JSON.
 Title:
   type: string
   maxLength: &amp;text_limit 64

 Name:
   type: string
   maxLength: *text_limit  # Replaced by the value 64.
</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-json-replaces-alias-nodes-w" class="selfRef">JSON replaces alias nodes with static values.</a>
          </figcaption></figure>
</div>
<p id="section-3.4-4">Implementers need to ensure that relevant
information will not be lost during the processing.
For example, they might consider acceptable
that alias nodes are replaced by static values.<a href="#section-3.4-4" class="pilcrow">¶</a></p>
<p id="section-3.4-5">In some cases an implementer may want to
define a list of allowed YAML features,
taking into account that the following ones
might have interoperability
issues with <span>[<a href="#JSON" class="cite xref">JSON</a>]</span>:<a href="#section-3.4-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.4-6.1">
            <p id="section-3.4-6.1.1">multi-document YAML streams;<a href="#section-3.4-6.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-3.4-6.2">
            <p id="section-3.4-6.2.1">non UTF-8 encoding. Before encoding YAML streams in UTF-16 or UTF-32,
it is important to note that <span><a href="https://rfc-editor.org/rfc/rfc8259#section-8.1" class="relref">Section 8.1</a> of [<a href="#JSON" class="cite xref">JSON</a>]</span> mandates the use of UTF-8
when exchanging JSON texts between systems that are not part of a closed ecosystem,
and that Section 5.2 of <span>[<a href="#YAML" class="cite xref">YAML</a>]</span> recommends the use of UTF-8;<a href="#section-3.4-6.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-3.4-6.3">
            <p id="section-3.4-6.3.1">mapping keys that are not strings;<a href="#section-3.4-6.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-3.4-6.4">
            <p id="section-3.4-6.4.1">circular references represented using anchor (see <a href="#sec-yaml-exhaustion" class="auto internal xref">Section 4.2</a>
and <a href="#example-yaml-cyclic" class="auto internal xref">Figure 4</a>);<a href="#section-3.4-6.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-3.4-6.5">
            <p id="section-3.4-6.5.1"><code>.inf</code> and <code>.nan</code> float values, since JSON does not support them;<a href="#section-3.4-6.5.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-3.4-6.6">
            <p id="section-3.4-6.6.1">non-JSON types,
including the ones associated with tags like <code>!!timestamp</code>
that were included in the default schema of older YAML versions;<a href="#section-3.4-6.6.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-3.4-6.7">
            <p id="section-3.4-6.7.1">tags in general, and specifically the ones that do not map
to JSON types like
custom and local tags such as <code>!!python/object</code> and
<code>!mytag</code> (see Section 2.4 of <span>[<a href="#YAML" class="cite xref">YAML</a>]</span>);<a href="#section-3.4-6.7.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<span id="name-example-of-mapping-keys-and"></span><div id="example-unsupported-keys">
<figure id="figure-3">
          <div class="lang-example sourcecode" id="section-3.4-7.1">
<pre>
 %YAML 1.2
 ---
 non-json-keys:
   0: a number
   [0, 1]: a sequence
   ? {k: v}
   : a map
 ---
 non-json-keys:
   !date 2020-01-01: a timestamp
 non-json-value: !date 2020-01-01
 ...
</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-example-of-mapping-keys-and" class="selfRef">Example of mapping keys and values not supported in JSON in a multi-document YAML stream</a>
          </figcaption></figure>
</div>
</section>
</div>
<div id="int-fragment">
<section id="section-3.5">
        <h3 id="name-fragment-identifiers">
<a href="#section-3.5" class="section-number selfRef">3.5. </a><a href="#name-fragment-identifiers" class="section-name selfRef">Fragment identifiers</a>
        </h3>
<p id="section-3.5-1">To allow fragment identifiers to traverse alias nodes,
the YAML representation graph needs to be generated before the fragment identifier evaluation.
It is important that this evaluation will not cause the issues mentioned in <a href="#int-yaml-and-json" class="auto internal xref">Section 3.4</a>
and in <span><a href="#security-considerations" class="internal xref">Security considerations</a> (<a href="#security-considerations" class="auto internal xref">Section 4</a>)</span> such as infinite loops and unexpected code execution.<a href="#section-3.5-1" class="pilcrow">¶</a></p>
<p id="section-3.5-2">Implementers need to consider that the YAML version and supported features (e.g., merge keys)
can affect the generation of the representation graph (see <a href="#example-merge-keys" class="auto internal xref">Figure 9</a>).<a href="#section-3.5-2" class="pilcrow">¶</a></p>
<p id="section-3.5-3">In <a href="#application-yaml" class="auto internal xref">Section 2.1</a>, this document extends the use of specifications based on
the JSON data model with support for YAML fragment identifiers.
This is to improve the interoperability of already consolidated practices,
such as the one of writing <span><a href="#OAS" class="internal xref">OpenAPI documents</a> [<a href="#OAS" class="cite xref">OAS</a>]</span> in YAML.<a href="#section-3.5-3" class="pilcrow">¶</a></p>
<p id="section-3.5-4"><a href="#ex-fragid" class="auto internal xref">Appendix A</a> provides a non-exhaustive list of examples that could help
understand interoperability issues related to fragment identifiers.<a href="#section-3.5-4" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="security-considerations">
<section id="section-4">
      <h2 id="name-security-considerations">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-4-1">Security requirements for both media type and media type suffix
registrations are discussed in Section 4.6 of <span>[<a href="#MEDIATYPE" class="cite xref">MEDIATYPE</a>]</span>.<a href="#section-4-1" class="pilcrow">¶</a></p>
<div id="sec-yaml-code-execution">
<section id="section-4.1">
        <h3 id="name-arbitrary-code-execution">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-arbitrary-code-execution" class="section-name selfRef">Arbitrary Code Execution</a>
        </h3>
<p id="section-4.1-1">Care should be used when using YAML tags,
because their resolution might trigger unexpected code execution.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2">Code execution in deserializers should be disabled by default,
and only be enabled explicitly.
In those cases, the implementation should ensure - for example, via specific functions -
that the code execution results in strictly bounded time/memory limits.<a href="#section-4.1-2" class="pilcrow">¶</a></p>
<p id="section-4.1-3">Many implementations provide safe deserializers addressing these issues.<a href="#section-4.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec-yaml-exhaustion">
<section id="section-4.2">
        <h3 id="name-resource-exhaustion">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-resource-exhaustion" class="section-name selfRef">Resource Exhaustion</a>
        </h3>
<p id="section-4.2-1">YAML documents are rooted, connected, directed graphs
and can contain reference cycles,
so they can't be treated as simple trees (see Section 3.2.1 of <span>[<a href="#YAML" class="cite xref">YAML</a>]</span>).
An implementation that treats them as simple trees
risks going into an infinite loop while traversing the YAML representation graph.
This can happen:<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.2-2.1">
            <p id="section-4.2-2.1.1">when trying to serialize it as JSON;<a href="#section-4.2-2.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.2-2.2">
            <p id="section-4.2-2.2.1">or when searching/identifying nodes using specifications based on the JSON data model (e.g., <span>[<a href="#JSON-POINTER" class="cite xref">JSON-POINTER</a>]</span>).<a href="#section-4.2-2.2.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<span id="name-a-cyclic-document"></span><div id="example-yaml-cyclic">
<figure id="figure-4">
          <div class="lang-yaml sourcecode" id="section-4.2-3.1">
<pre>
 %YAML 1.2
 ---
 x: &amp;x
   y: *x
</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-a-cyclic-document" class="selfRef">A cyclic document</a>
          </figcaption></figure>
</div>
<p id="section-4.2-4">Even if a representation graph is not cyclic, treating it as a simple tree could lead to improper behaviors
(such as the "billion laughs"
or "Exponential Entity Expansion" problem).<a href="#section-4.2-4" class="pilcrow">¶</a></p>
<span id="name-a-billion-laughs-document"></span><div id="example-yaml-1e9lol">
<figure id="figure-5">
          <div class="lang-yaml sourcecode" id="section-4.2-5.1">
<pre>
 %YAML 1.2
 ---
 x1: &amp;a1 ["a", "a"]
 x2: &amp;a2 [*a1, *a1]
 x3: &amp;a3 [*a2, *a2]
</pre>
</div>
<figcaption><a href="#figure-5" class="selfRef">Figure 5</a>:
<a href="#name-a-billion-laughs-document" class="selfRef">A billion laughs document</a>
          </figcaption></figure>
</div>
<p id="section-4.2-6">This can be addressed using processors limiting the anchor recursion depth
and validating the input before processing it;
even in these cases it is important
to carefully test the implementation you are going to use.
The same considerations apply when serializing a YAML representation graph
in a format that does not support reference cycles (see <a href="#int-yaml-and-json" class="auto internal xref">Section 3.4</a>).<a href="#section-4.2-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="yaml-streams">
<section id="section-4.3">
        <h3 id="name-yaml-streams-2">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-yaml-streams-2" class="section-name selfRef">YAML streams</a>
        </h3>
<p id="section-4.3-1">Incremental parsing and processing of a YAML stream can produce partial results
and later indicate failure to parse the remainder of the stream;
to prevent partial processing, implementers might prefer validating and processing all the documents in a stream at the same time.<a href="#section-4.3-1" class="pilcrow">¶</a></p>
<p id="section-4.3-2">Repeated parsing and re-encoding of a YAML stream can result
in the addition or removal of document delimiters (e.g., <code>---</code> or <code>...</code>)
as well as the modification of anchor names and other serialization details,
which can break signature validation.<a href="#section-4.3-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="expressing-booleans">
<section id="section-4.4">
        <h3 id="name-expressing-booleans">
<a href="#section-4.4" class="section-number selfRef">4.4. </a><a href="#name-expressing-booleans" class="section-name selfRef">Expressing booleans</a>
        </h3>
<p id="section-4.4-1">Section 10.3.2 of <span>[<a href="#YAML" class="cite xref">YAML</a>]</span> specifies that only the scalars matching the
regular expression <code>true|True|TRUE|false|False|FALSE</code> are interpreted as booleans.
Older YAML versions were more tolerant (e.g., interpreting <code>NO</code> and <code>N</code> as <code>False</code>,
and <code>YES</code> and <code>Y</code> as <code>True</code>).
When the older syntax is used, a YAML implementation could then interpret
<code>{insecure: n}</code> as <code>{insecure: "n"}</code> instead of <code>{insecure: false}</code>.
Using the syntax defined in Section 10.3.2 of <span>[<a href="#YAML" class="cite xref">YAML</a>]</span> prevents these issues.<a href="#section-4.4-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="iana-considerations">
<section id="section-5">
      <h2 id="name-iana-considerations">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-5-1">This specification defines the following new Internet media type <span>[<a href="#MEDIATYPE" class="cite xref">MEDIATYPE</a>]</span>.<a href="#section-5-1" class="pilcrow">¶</a></p>
<p id="section-5-2">IANA is asked to update the "Media Types" registry at <a href="https://www.iana.org/assignments/media-types">https://www.iana.org/assignments/media-types</a>
with the registration information provided in the section below.<a href="#section-5-2" class="pilcrow">¶</a></p>
<table class="center" id="table-1">
        <caption><a href="#table-1" class="selfRef">Table 1</a></caption>
<thead>
          <tr>
            <th class="text-left" rowspan="1" colspan="1">Media Type</th>
            <th class="text-left" rowspan="1" colspan="1">Registration information section</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">application/yaml</td>
            <td class="text-left" rowspan="1" colspan="1">
              <a href="#application-yaml" class="auto internal xref">Section 2.1</a> of this document</td>
          </tr>
        </tbody>
      </table>
<p id="section-5-4">IANA is asked to update the "Structured Syntax Suffixes" registry at <a href="https://www.iana.org/assignments/media-type-structured-suffix">https://www.iana.org/assignments/media-type-structured-suffix</a>
with the registration information provided in the section below.<a href="#section-5-4" class="pilcrow">¶</a></p>
<table class="center" id="table-2">
        <caption><a href="#table-2" class="selfRef">Table 2</a></caption>
<thead>
          <tr>
            <th class="text-left" rowspan="1" colspan="1">Suffix</th>
            <th class="text-left" rowspan="1" colspan="1">Registration information section</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">+yaml</td>
            <td class="text-left" rowspan="1" colspan="1">
              <a href="#suffix-yaml" class="auto internal xref">Section 2.2</a> of this document</td>
          </tr>
        </tbody>
      </table>
</section>
</div>
<section id="section-6">
      <h2 id="name-references">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<div id="sec-normative-references">
<section id="section-6.1">
        <h3 id="name-normative-references">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="HTTP">[HTTP]</dt>
        <dd>
<span class="refAuthor">Fielding, R., Ed.</span>, <span class="refAuthor">Nottingham, M., Ed.</span>, and <span class="refAuthor">J. Reschke, Ed.</span>, <span class="refTitle">"HTTP Semantics"</span>, <span class="seriesInfo">STD 97</span>, <span class="seriesInfo">RFC 9110</span>, <span class="seriesInfo">DOI 10.17487/RFC9110</span>, <time datetime="2022-06" class="refDate">June 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9110">https://www.rfc-editor.org/rfc/rfc9110</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="JSON">[JSON]</dt>
        <dd>
<span class="refAuthor">Bray, T., Ed.</span>, <span class="refTitle">"The JavaScript Object Notation (JSON) Data Interchange Format"</span>, <span class="seriesInfo">STD 90</span>, <span class="seriesInfo">RFC 8259</span>, <span class="seriesInfo">DOI 10.17487/RFC8259</span>, <time datetime="2017-12" class="refDate">December 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8259">https://www.rfc-editor.org/rfc/rfc8259</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="JSON-POINTER">[JSON-POINTER]</dt>
        <dd>
<span class="refAuthor">Bryan, P., Ed.</span>, <span class="refAuthor">Zyp, K.</span>, and <span class="refAuthor">M. Nottingham, Ed.</span>, <span class="refTitle">"JavaScript Object Notation (JSON) Pointer"</span>, <span class="seriesInfo">RFC 6901</span>, <span class="seriesInfo">DOI 10.17487/RFC6901</span>, <time datetime="2013-04" class="refDate">April 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc6901">https://www.rfc-editor.org/rfc/rfc6901</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="MEDIATYPE">[MEDIATYPE]</dt>
        <dd>
<span class="refAuthor">Freed, N.</span>, <span class="refAuthor">Klensin, J.</span>, and <span class="refAuthor">T. Hansen</span>, <span class="refTitle">"Media Type Specifications and Registration Procedures"</span>, <span class="seriesInfo">BCP 13</span>, <span class="seriesInfo">RFC 6838</span>, <span class="seriesInfo">DOI 10.17487/RFC6838</span>, <time datetime="2013-01" class="refDate">January 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc6838">https://www.rfc-editor.org/rfc/rfc6838</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="OAS">[OAS]</dt>
        <dd>
<span class="refAuthor">Darrel Miller</span>, <span class="refAuthor">Jeremy Whitlock</span>, <span class="refAuthor">Marsh Gardiner</span>, <span class="refAuthor">Mike Ralphson</span>, <span class="refAuthor">Ron Ratovsky</span>, and <span class="refAuthor">Uri Sarid</span>, <span class="refTitle">"OpenAPI Specification 3.0.0"</span>, <time datetime="2017-07-26" class="refDate">26 July 2017</time>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="URI">[URI]</dt>
        <dd>
<span class="refAuthor">Berners-Lee, T.</span>, <span class="refAuthor">Fielding, R.</span>, and <span class="refAuthor">L. Masinter</span>, <span class="refTitle">"Uniform Resource Identifier (URI): Generic Syntax"</span>, <span class="seriesInfo">STD 66</span>, <span class="seriesInfo">RFC 3986</span>, <span class="seriesInfo">DOI 10.17487/RFC3986</span>, <time datetime="2005-01" class="refDate">January 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc3986">https://www.rfc-editor.org/rfc/rfc3986</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="UTF-8">[UTF-8]</dt>
        <dd>
<span class="refAuthor">Yergeau, F.</span>, <span class="refTitle">"UTF-8, a transformation format of ISO 10646"</span>, <span class="seriesInfo">STD 63</span>, <span class="seriesInfo">RFC 3629</span>, <span class="seriesInfo">DOI 10.17487/RFC3629</span>, <time datetime="2003-11" class="refDate">November 2003</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc3629">https://www.rfc-editor.org/rfc/rfc3629</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="YAML">[YAML]</dt>
      <dd>
<span class="refAuthor">Oren Ben-Kiki</span>, <span class="refAuthor">Clark Evans</span>, <span class="refAuthor">Ingy dot Net</span>, <span class="refAuthor">Tina Müller</span>, <span class="refAuthor">Pantelis Antoniou</span>, <span class="refAuthor">Eemeli Aro</span>, and <span class="refAuthor">Thomas Smith</span>, <span class="refTitle">"YAML Ain't Markup Language Version 1.2"</span>, <time datetime="2021-10-01" class="refDate">1 October 2021</time>, <span>&lt;<a href="https://yaml.org/spec/1.2.2/">https://yaml.org/spec/1.2.2/</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</div>
<div id="sec-informative-references">
<section id="section-6.2">
        <h3 id="name-informative-references">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="I-D.ietf-jsonpath-base">[I-D.ietf-jsonpath-base]</dt>
        <dd>
<span class="refAuthor">Gössner, S.</span>, <span class="refAuthor">Normington, G.</span>, and <span class="refAuthor">C. Bormann</span>, <span class="refTitle">"JSONPath: Query expressions for JSON"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-jsonpath-base-21</span>, <time datetime="2023-09-24" class="refDate">24 September 2023</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-jsonpath-base-21">https://datatracker.ietf.org/doc/html/draft-ietf-jsonpath-base-21</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7464">[RFC7464]</dt>
      <dd>
<span class="refAuthor">Williams, N.</span>, <span class="refTitle">"JavaScript Object Notation (JSON) Text Sequences"</span>, <span class="seriesInfo">RFC 7464</span>, <span class="seriesInfo">DOI 10.17487/RFC7464</span>, <time datetime="2015-02" class="refDate">February 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7464">https://www.rfc-editor.org/rfc/rfc7464</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</div>
</section>
<div id="ex-fragid">
<section id="appendix-A">
      <h2 id="name-examples-related-to-fragmen">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-examples-related-to-fragmen" class="section-name selfRef">Examples related to fragment identifier interoperability</a>
      </h2>
<div id="unreferenceable-nodes">
<section id="appendix-A.1">
        <h3 id="name-unreferenceable-nodes">
<a href="#appendix-A.1" class="section-number selfRef">A.1. </a><a href="#name-unreferenceable-nodes" class="section-name selfRef">Unreferenceable nodes</a>
        </h3>
<p id="appendix-A.1-1">In this example, a couple of YAML nodes that cannot be referenced
based on the JSON data model
since their mapping keys are not strings.<a href="#appendix-A.1-1" class="pilcrow">¶</a></p>
<span id="name-example-of-yaml-nodes-that-"></span><div id="example-unsupported-paths">
<figure id="figure-6">
          <div class="lang-example sourcecode" id="appendix-A.1-2.1">
<pre>
 %YAML 1.2
 ---
 a-map-cannot:
   ? {be: expressed}
   : with a JSON Pointer

 0: no numeric mapping keys in JSON
</pre>
</div>
<figcaption><a href="#figure-6" class="selfRef">Figure 6</a>:
<a href="#name-example-of-yaml-nodes-that-" class="selfRef">Example of YAML nodes that are not referenceable based on JSON data model.</a>
          </figcaption></figure>
</div>
</section>
</div>
<div id="referencing-a-missing-node">
<section id="appendix-A.2">
        <h3 id="name-referencing-a-missing-node">
<a href="#appendix-A.2" class="section-number selfRef">A.2. </a><a href="#name-referencing-a-missing-node" class="section-name selfRef">Referencing a missing node</a>
        </h3>
<p id="appendix-A.2-1">In this example the fragment <code>#/0</code> does not reference an existing node<a href="#appendix-A.2-1" class="pilcrow">¶</a></p>
<span id="name-example-of-a-json-pointer-t"></span><div id="example-missing-node">
<figure id="figure-7">
          <div class="lang-example sourcecode" id="appendix-A.2-2.1">
<pre>
 %YAML 1.2
 ---
 0: "JSON Pointer `#/0` references a string mapping key."
</pre>
</div>
<figcaption><a href="#figure-7" class="selfRef">Figure 7</a>:
<a href="#name-example-of-a-json-pointer-t" class="selfRef">Example of a JSON Pointer that does not reference an existing node.</a>
          </figcaption></figure>
</div>
</section>
</div>
<div id="representation-graph-with-anchors-and-cyclic-references">
<section id="appendix-A.3">
        <h3 id="name-representation-graph-with-a">
<a href="#appendix-A.3" class="section-number selfRef">A.3. </a><a href="#name-representation-graph-with-a" class="section-name selfRef">Representation graph with anchors and cyclic references</a>
        </h3>
<p id="appendix-A.3-1">In this YAML document, the <code>#/foo/bar/baz</code> fragment identifier
traverses the representation graph and references the string <code>you</code>.
Moreover, the presence of a cyclic reference implies that
there are infinite fragment identifiers <code>#/foo/bat/../bat/bar</code>
referencing the <code>&amp;anchor</code> node.<a href="#appendix-A.3-1" class="pilcrow">¶</a></p>
<span id="name-example-of-a-cyclic-referen"></span><div id="example-cyclic-graph">
<figure id="figure-8">
          <div class="lang-example sourcecode" id="appendix-A.3-2.1">
<pre>
 %YAML 1.2
 ---
 anchor: &amp;anchor
   baz: you
 foo: &amp;foo
   bar: *anchor
   bat: *foo
</pre>
</div>
<figcaption><a href="#figure-8" class="selfRef">Figure 8</a>:
<a href="#name-example-of-a-cyclic-referen" class="selfRef">Example of a cyclic reference and alias nodes.</a>
          </figcaption></figure>
</div>
<p id="appendix-A.3-3">Many YAML implementations will resolve
<a href="https://yaml.org/type/merge.html">the merge key "&lt;&lt;:"</a> defined in YAML 1.1
in the representation graph.
This means that the fragment <code>#/book/author/given_name</code> references the string <code>Federico</code>
and that the fragment <code>#/book/&lt;&lt;</code> will not reference any existing node.<a href="#appendix-A.3-3" class="pilcrow">¶</a></p>
<span id="name-example-of-yaml-merge-keys"></span><div id="example-merge-keys">
<figure id="figure-9">
          <div class="lang-example sourcecode" id="appendix-A.3-4.1">
<pre>
 %YAML 1.1
 ---
 # Many implementations use merge keys.
 the-viceroys: &amp;the-viceroys
   title: The Viceroys
   author:
     given_name: Federico
     family_name: De Roberto
 book:
   &lt;&lt;: *the-viceroys
   title: The Illusion
</pre>
</div>
<figcaption><a href="#figure-9" class="selfRef">Figure 9</a>:
<a href="#name-example-of-yaml-merge-keys" class="selfRef">Example of YAML merge keys.</a>
          </figcaption></figure>
</div>
</section>
</div>
</section>
</div>
<div id="acknowledgements">
<section id="appendix-B">
      <h2 id="name-acknowledgements">
<a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="appendix-B-1">Thanks to Erik Wilde and David Biesack for being the initial contributors of this specification,
and to Darrel Miller and Rich Salz for their support during the adoption phase.<a href="#appendix-B-1" class="pilcrow">¶</a></p>
<p id="appendix-B-2">In addition to the people above, this document owes a lot to the extensive discussion inside
and outside the HTTPAPI workgroup.
The following contributors have helped improve this specification by
opening pull requests, reporting bugs, asking smart questions,
drafting or reviewing text, and evaluating open issues:<a href="#appendix-B-2" class="pilcrow">¶</a></p>
<p id="appendix-B-3">Tina (tinita) Müller,
Ben Hutton,
Carsten Bormann,
Manu Sporny
and Jason Desrosiers.<a href="#appendix-B-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="faq">
<section id="appendix-C">
      <h2 id="name-faq">
<a href="#name-faq" class="section-name selfRef">FAQ</a>
      </h2>
<p id="appendix-C-1">This section is to be removed before publishing as an RFC.<a href="#appendix-C-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="appendix-C-2">
        <dt id="appendix-C-2.1">Q: Why this document?</dt>
        <dd style="margin-left: 1.5em" id="appendix-C-2.2">
          <p id="appendix-C-2.2.1">After all these years, we still lack a proper media-type for YAML.
This has some security implications too
(eg. wrt on identifying parsers or treat downloads)<a href="#appendix-C-2.2.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="appendix-C-2.3">Q: Why using alias nodes as fragment identifiers?</dt>
        <dd style="margin-left: 1.5em" id="appendix-C-2.4">
          <p id="appendix-C-2.4.1">Alias nodes are a native YAML feature that allows
addressing any node in a YAML document.
Since YAML is not limited to string keywords,
not all nodes are addressable using JSON Pointers.
Alias nodes are thus the natural choice for fragment identifiers
<a href="#application-yaml-fragment" class="auto internal xref">Section 1.2</a>.<a href="#appendix-C-2.4.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="appendix-C-2.5">Q: Why not use plain names for alias nodes? Why not define plain names?</dt>
        <dd style="margin-left: 1.5em" id="appendix-C-2.6">
          <p id="appendix-C-2.6.1">Using plain name fragments could have
limited the ability of future xxx+yaml
media types to define their plain name fragments.
Moreover, alias nodes starts with <code>*</code> so we found no reason
to strip it when using them in fragments.<a href="#appendix-C-2.6.1" class="pilcrow">¶</a></p>
<p id="appendix-C-2.6.2">Preserving <code>*</code> had another positive result:
it allows distinguishing
a fragment identifier expressed as an alias node from
one expressed in other formats.
In this document we included JSON Pointer <span>[<a href="#JSON-POINTER" class="cite xref">JSON-POINTER</a>]</span>
which is expected to start with <code>/</code>.
Moreover, since JSON Path <span>[<a href="#I-D.ietf-jsonpath-base" class="cite xref">I-D.ietf-jsonpath-base</a>]</span> expressions
start with <code>$</code>, this mechanism can be extended to JSON Path too.<a href="#appendix-C-2.6.2" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="appendix-C-2.7">Q: Why not just use JSON Pointer as the primary fragment identifier?</dt>
        <dd style="margin-left: 1.5em" id="appendix-C-2.8">
          <p id="appendix-C-2.8.1">Fragment identifiers in YAML always reference
YAML representation graph nodes.
JSON Pointer can only rely on string keywords so
it is not able to reference a generic node in the
representation graph.<a href="#appendix-C-2.8.1" class="pilcrow">¶</a></p>
<p id="appendix-C-2.8.2">Since JSON Pointer is a specification unrelated to YAML,
we decided to isolate the impacts of changes in JSON Pointer
on YAML fragments:
only fragments starting with "/" are "delegated" to an external spec,
and if <span>[<a href="#JSON-POINTER" class="cite xref">JSON-POINTER</a>]</span> changes, it will only affect fragments starting with "/".<a href="#appendix-C-2.8.2" class="pilcrow">¶</a></p>
<p id="appendix-C-2.8.3">The current behaviour for empty fragments is the same
for both JSON Pointer and alias nodes.
Incidentally, it's the only sensible behaviour independently of <span>[<a href="#JSON-POINTER" class="cite xref">JSON-POINTER</a>]</span>.<a href="#appendix-C-2.8.3" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="appendix-C-2.9">Q: Why describe the YAML/JSON so closely?</dt>
        <dd style="margin-left: 1.5em" id="appendix-C-2.10">
          <p id="appendix-C-2.10.1">In the context of Web APIs, YAML is widely used as a more compact way to serialize
content inteded to be consumed according to the JSON data model.
Typical examples are OpenAPI specifications and Kubernetes manifest files,
that can be serialized in both formats.
The YAML media type registration I-D is a spin-off and a building block
for the OpenAPI specification media type registration.
The YAML/JSON section aims at clarifying what developers should expect when using YAML
instead of JSON, and its content arose from common mistakes and FAQs.<a href="#appendix-C-2.10.1" class="pilcrow">¶</a></p>
<p id="appendix-C-2.10.2">Please note that we are not imposing any normative restriction on YAML streams;
this is because YAML is defined outside this document.
Instead, we only provide Interoperability and Security considerations that,
by their nature, are not normative.<a href="#appendix-C-2.10.2" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="appendix-C-2.11">Q: Do we forbid using non-UTF-8 YAML serialization?</dt>
        <dd style="margin-left: 1.5em" id="appendix-C-2.12">
          <p id="appendix-C-2.12.1">No. Since <span>[<a href="#JSON" class="cite xref">JSON</a>]</span> recommends UTF-8 in interoperability context
we suggest that using UTF-8 is an interoperable behavior.
This is aligned with Section 5.2 of <span>[<a href="#YAML" class="cite xref">YAML</a>]</span> that explicitly
recommends UTF-8.<a href="#appendix-C-2.12.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="appendix-C-2.13">Q: Why media type registration information is outside the IANA Considerations?</dt>
        <dd style="margin-left: 1.5em" id="appendix-C-2.14">
          <p id="appendix-C-2.14.1">We decided to follow the style adopted in <span>[<a href="#HTTP" class="cite xref">HTTP</a>]</span> where
the IANA Considerations in <span><a href="https://rfc-editor.org/rfc/rfc9110#section-18.8" class="relref">Section 18.8</a> of [<a href="#HTTP" class="cite xref">HTTP</a>]</span>
references the <code>multipart/byteranges</code> media type registration form
contained in the specification body <span><a href="https://rfc-editor.org/rfc/rfc9110#section-14.6" class="relref">Section 14.6</a> of [<a href="#HTTP" class="cite xref">HTTP</a>]</span>.<a href="#appendix-C-2.14.1" class="pilcrow">¶</a></p>
</dd>
      <dd class="break"></dd>
</dl>
</section>
</div>
<div id="change-log">
<section id="appendix-D">
      <h2 id="name-change-log">
<a href="#name-change-log" class="section-name selfRef">Change Log</a>
      </h2>
<p id="appendix-D-1">This section is to be removed before publishing as an RFC.<a href="#appendix-D-1" class="pilcrow">¶</a></p>
<div id="since-draft-ietf-httpapi-yaml-mediatypes-02">
<section id="appendix-D.1">
        <h3 id="name-since-draft-ietf-httpapi-ya">
<a href="#name-since-draft-ietf-httpapi-ya" class="section-name selfRef">Since draft-ietf-httpapi-yaml-mediatypes-02</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-D.1-1.1">
            <p id="appendix-D.1-1.1.1">clarification on fragment identifiers #50.<a href="#appendix-D.1-1.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="since-draft-ietf-httpapi-yaml-mediatypes-01">
<section id="appendix-D.2">
        <h3 id="name-since-draft-ietf-httpapi-yam">
<a href="#name-since-draft-ietf-httpapi-yam" class="section-name selfRef">Since draft-ietf-httpapi-yaml-mediatypes-01</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-D.2-1.1">
            <p id="appendix-D.2-1.1.1">application/yaml fragment identifiers compatible with JSON Pointer #41 (#47).<a href="#appendix-D.2-1.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-E">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Roberto Polli</span></div>
<div dir="auto" class="left"><span class="org">Digital Transformation Department, Italian Government</span></div>
<div dir="auto" class="left"><span class="country-name">Italy</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:robipolli@gmail.com" class="email">robipolli@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Erik Wilde</span></div>
<div dir="auto" class="left"><span class="org">Axway</span></div>
<div dir="auto" class="left"><span class="country-name">Switzerland</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:erik.wilde@dret.net" class="email">erik.wilde@dret.net</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Eemeli Aro</span></div>
<div dir="auto" class="left"><span class="org">Mozilla</span></div>
<div dir="auto" class="left"><span class="country-name">Finland</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:eemeli@gmail.com" class="email">eemeli@gmail.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
